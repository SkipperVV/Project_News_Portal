{% extends 'flatpages/default.html' %}
{% load censor_filter %}
{% load filter %}
{% block title %} Posts {% endblock title %}

{% block content %}

<h3>Поиск публикаций
<br><br>
    <a href="/news">На главную &#128073;</a>
</h3>
<br>

<form method="GET">
    {{ filter.form }}
    <input type="submit" value="Найти">

</form>

<br><br>
{% if filter.qs %}
<table>
    <tr align="left">
        <th> Автор:</th>
        <th> Заголовок:</th>
        <th> Краткое содержание:</th>
        <th> Дата публикации:</th>
        <th> Рэйтинг:</th>

        {% for item in filter.qs %}


    <tr>
        <td>  <a href="{% url 'posts' item.id %}">{{ item.author }}</a> </td>
        <td width="300">{{item.title|censor|truncatewords:5}}</td>
        <td width="500">{{item.text|censor|truncatewords:5}}</td>
        <td width="200">{{item.post_time}}</td>
        <td width="50" align="center">{{item.rating}}</td>
    </tr>
    {% endfor %}

    {% else %}

    <h2 style="text-align:center"> По этим кретериям поиска ничего не найдено &#128580;</h2>

    {% endif %}
</table>

{% endblock content %}

